{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
{{ block.super }}
{% comment %} <link rel="stylesheet" href="{% static 'tabipre/home.css' %}"> {% endcomment %}
{% endblock %}
{% block content %}
<div class="container mt-4 mb-5">

    <!-- ğŸ” ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢ -->
    <form method="GET" class="d-flex mb-3">
        <input type="text" name="keyword" value="{{ keyword }}" class="form-control me-2"
               placeholder="ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢">
        <button class="btn btn-primary">æ¤œç´¢</button>
    </form>

    <!-- ğŸ· äº¤é€šæ‰‹æ®µã‚¿ã‚°ï¼ˆæ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼‰ -->
    <div class="d-flex overflow-auto mb-3" style="white-space: nowrap;">
        {% for tag in tags %}
            <a href="?transport={{ tag.transport_type }}"
               class="badge rounded-pill bg-secondary text-white me-2 p-2">
                {{ tag.get_transport_type_display }}
            </a>
        {% endfor %}
    </div>

    <!-- ğŸ”„ ä¸¦ã³æ›¿ãˆãƒœã‚¿ãƒ³ -->
    <button class="btn btn-outline-secondary mb-3" data-bs-toggle="modal" data-bs-target="#sortModal">
        ä¸¦ã³æ›¿ãˆ
    </button>

    <!--  ä¸¦ã³æ›¿ãˆãƒ¢ãƒ¼ãƒ€ãƒ« -->
    {% include "home/modal/sort_home.html" %}


    <!-- ğŸ“„ æ—…è¡Œä¸€è¦§ï¼ˆã‚«ãƒ¼ãƒ‰è¡¨ç¤ºï¼‰ -->
    {% for t in travels %}
    <a href="{% url 'app:travel_detail' t.travel_info_id %}" class="text-decoration-none text-dark">
        <div class="card mb-3 shadow-sm">
            <div class="card-body d-flex">
              <div class="me-3 d-flex align-items-start">
                  {% if t.status == "æœª" %}
                       <span class="badge bg-warning text-dark">æœª</span>
                  {% elif t.status == "å®Œ" %}
                       <span class="badge bg-success">å®Œ</span>
                  {% elif t.status == "æ¸ˆ" %}
                       <span class="badge bg-secondary">æ¸ˆ</span>
                  {% endif %}
              </div>
              <div class="flex-grow-1">
                <h5 class="card-title">{{ t.travel_title }}</h5>

                <p class="card-text text-muted mb-1">
                    {{ t.start_date|date:"Y-m-d" }} ã€œ {{ t.end_date|date:"Y-m-d" }}
                </p>

                </div>         
               </div>

            </div>
        </a>
    {% empty %}
        <p class="text-center text-muted">æ—…è¡ŒãŒã‚ã‚Šã¾ã›ã‚“</p>
    {% endfor %}

    <!-- â­ ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ -->
    <div class="d-flex justify-content-center mt-4">
        <nav>
            <ul class="pagination">

                {% if travels.has_previous %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{ travels.previous_page_number }}">å‰ã¸</a>
                    </li>
                {% endif %}

                <li class="page-item disabled">
                    <span class="page-link">
                        {{ travels.number }} / {{ travels.paginator.num_pages }}
                    </span>
                </li>

                {% if travels.has_next %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{ travels.next_page_number }}">æ¬¡ã¸</a>
                    </li>
                {% endif %}

            </ul>
        </nav>
    </div>

</div>



{% endblock%}
